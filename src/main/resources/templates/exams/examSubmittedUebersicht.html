<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <script type="module" id="truffle-injected" data-runtime="bkkjeefjfjcfdfifddmkdmcpmaakmelp" src="chrome-extension://bkkjeefjfjcfdfifddmkdmcpmaakmelp/./injected-script/index.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/public/pictures/exambyteIcon.ico">

  <title>Exam</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/carousel/">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

  <!-- Bootstrap core CSS -->
  <link href="/public/bootstrap-4.0.0/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/public/custom/index.css" rel="stylesheet">
  <link href="/public/custom/popup.css" rel="stylesheet">
</head>
<body>
<!-- Navigation -->
<header th:replace="~{navigation/navbar.html}"> </header>

<main role="main" class="container mt-5 pt-5">

    <div th:if="${message}" class="alert"
         th:classappend="${success} ? 'alert-success' : 'alert-danger'" role="alert">
      <span th:text="${message}"></span>
    </div>

    <div class="alert alert-info" role="alert">
      <p>
        Hier werden alle Studenten aufgelistet, die erfolgreich die Prüfung bearbeitet haben.
      </p>
      <p>
        Noch nicht korrigierte Lösungen werden in der Tabelle vorangestellt.
      </p>
    </div>

  <table class="table">
    <thead>
    <tr>
      <th>Prüfling</th>
      <th>Abgabezeit</th>
      <th>Bewertungsstatus</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="submitInfo: ${submitInfoList}">
      <td>
        <a th:href="@{/exams/showSubmit/{examFachId}/{studentFachId}
                        (examFachId=${exam.fachId},
                        studentFachId=${submitInfo.fachId})
                    }"
           th:text="${submitInfo.name}">
        </a>
      </td>

      <td>
          <span th:switch="${timeNow.isBefore(exam.startTime)}">
              <span th:case="true">Startet bald</span>
              <span th:case="false">
                <span th:switch="${timeNow.isBefore(exam.endTime)}">
                    <span th:case="true">Prüfung läuft</span>
                    <span th:case="false">
                        <span th:switch="${timeNow.isBefore(exam.resultTime)}">
                            <span th:case="true">Korrektur läuft</span>
                            <span th:case="false">Beendet</span>
                        </span>
                    </span>
                </span>
              </span>
          </span>
      </td>

      <td>
        <span th:text="${submitInfo.reviewStatus ? '✔' : '✘'}"
              th:style="${submitInfo.reviewStatus ? 'color:green;' : 'color:red;'}">
        </span>
      </td>
    </tr>
    </tbody>
  </table>
</main>

<!-- Navigation -->
<header th:replace="~{navigation/navbarDown.html}"> </header>

</body>
</html>