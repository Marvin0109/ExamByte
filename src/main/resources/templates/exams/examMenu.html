<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <script type="module" id="truffle-injected" data-runtime="bkkjeefjfjcfdfifddmkdmcpmaakmelp" src="chrome-extension://bkkjeefjfjcfdfifddmkdmcpmaakmelp/./injected-script/index.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/public/pictures/exambyteIcon.ico">

    <title>Menü</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/carousel/">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Bootstrap core CSS -->
    <link href="/public/bootstrap-4.0.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/public/custom/index.css" rel="stylesheet">
    <link href="/public/custom/popup.css" rel="stylesheet">
</head>
<body>
<!-- Navigation -->
<header th:replace="~{navigation/navbar.html}"> </header>

<main role="main" class="container mt-5 pt-5">

    <div class="mb-3">
        <h1 th:text="${exam.title}"></h1>

        <div th:if="${timeLeftBool}">
            <p>Übrige Zeit: <span th:text="${timeLeft}"></span></p>
        </div>

        <div th:unless="${timeLeftBool}">
            <button type="button" class="btn btn-secondary" disabled>
                <span th:text="${timeLeft}"></span>
            </button>
        </div>

        <div class="d-flex gap-2">
            <form th:if="${timeLeftBool and !alreadySubmitted}"
                  th:action="@{/exams/examsDurchfuehren/{examFachId}(examFachId=${exam.fachId})}" method="get">
                <button type="submit" class="btn btn-primary">Test starten</button>
            </form>

            <form th:if="${timeLeftBool and alreadySubmitted}"
                  th:action="@{/exams/continue/{examFachId}(examFachId=${exam.fachId})}" method="get">
                <button type="submit" class="btn btn-secondary">Test neu starten</button>
            </form>

            <form th:action="@{/exams/startWithData/{examFachId}(examFachId=${exam.fachId})}" method="get">
                <!-- Der Button wird nur angezeigt, wenn beide Bedingungen zutreffen -->
                <button th:if="${timeLeftBool and alreadySubmitted and checkboxChecked}"
                        type="submit" class="btn btn-secondary">
                    Test fortsetzen
                </button>

                <label>
                    <input type="checkbox" name="checkboxChecked" th:checked="${checkboxChecked}"/>
                    Meine letzten Antworten laden.
                </label>
            </form>
        </div>
    </div>

    <div class="mt-4">
        <h2>Letzte Versuche</h2>

        <table class="table table-striped">
            <thead>
            <tr>
                <th>Versuch</th>
                <th>Zuletzt bearbeitet</th>
                <th>Punkte (%)</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="attempt, iterStat : ${attempts}">
                <!-- fortlaufende Nummer: Versuch 1, Versuch 2, ... -->
                <td th:text="'Versuch ' + ${iterStat.index + 1}"></td>

                <!-- hier dein lastChangesZeitpunkt, ggf. mit Datumsformat -->
                <td th:text="${#temporals.format(attempt.lastChanges, 'dd.MM.yyyy HH:mm')}"></td>

                <!-- Platzhalter für Prozent, bleibt erstmal leer -->
                <td th:text="${#numbers.formatDecimal(attempt.prozent, 1, 2)} + ' %'"></td>
            </tr>
            </tbody>
        </table>
    </div>

    <h2>Regeln</h2>

    <div class="container">
        <div class="row mb-2">
            <div class="col-3 fw-bold">Autor-UUID</div>
            <div class="col-9">
                <span th:text="${authorID}"></span>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-3 fw-bold">Informationen zum Test</div>
            <div class="col-9">
                Mit den Tests wollen wir sichergehen, dass nur diejenigen die Klausur mitschreiben,
                die sich ausreichend gut mit dem Stoff beschäftigt haben. Sie sollen dabei auch üben,
                nachvollziehbare Freitextantworten zu formulieren. Sie können <strong>beliebig viele Versuche</strong>
                durchführen. Wird während der Bearbeitung des Tests zu einer anderen Seite navigiert, wird der Versuch
                <strong>nicht gespeichert!</strong> Beim erneuten Durchlauf des Tests werden die alten Antworten
                angezeigt.
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-3 fw-bold">Bewertung</div>
            <div class="col-9">
                Nach dem Beenden des Tests werden die Ankreuzaufgaben automatisch bewertet, die Freitextaufgaben
                werden erst nach der Bearbeitungsfrist des Tests manuell korrigiert. Die endgültigen Ergebnisse werden hier
                ganz unten angezeigt nach der Korrekturfrist.
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-3 fw-bold">Plagiate</div>
            <div class="col-9">
                Es gibt <strong>keine Toleranz</strong> bei Verstößen gegen die gute wissenschaftliche Praxis,
                dazu gehört die Übernahme von Text oder Code aus Internetquellen oder von anderen Personen
                ohne Quellenangabe. Wenn Quellen (außerhalb des Kursmaterials) zitiert oder paraphrasiert werden,
                müssen diese angegeben werden. Dies gilt insbesondere für generative KIs.
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-3 fw-bold">Fragen</div>
            <div class="col-9">
                Bei Fragen bitte das Kontaktformular verwenden mit Angabe des Empfängers UUID (zukünftiges Feature).
            </div>
        </div>
    </div>

</main>

</body>
</html>